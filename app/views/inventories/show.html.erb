<!DOCTYPE html>
<html>
<head>
  <title>Recipes</title>
  <style>
.form-Actions {
  text-align: center;
  margin-top: 20px;
}
 .table {
    min-width:  90vw;
    margin-left:5vw;
    margin-right:5vw;
    border-collapse: collapse;
    margin-top: 10px
  }
  .table th, .table td {
    border: 1px solid black;
    padding: 8px;
    text-align: center;
  }
.form-submitt {
  background-color: #008cba;
  color: #fff;
  font-size: 13px;
  padding :7px ;
  margin :3px ;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
.form-creatnew {
  background-color: #002cba;
  color: #fff;
  font-size: 13px;
  padding :7px ;
  margin :3px ;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  margin-bottom : 20px ;
}
.form-submit:hover {
  background-color: #006799;
}

.inventorydiv {
  display:flex ;
  justify-content:right
}
</style>
</head>
<body >
<h1><%= @inventory.name %></h1>
<div class="inventorydiv"><button><%= link_to 'Add Food', "/inventories/#{@inventory.id}/inventory_foods/new"%></button> </div>
<hr>
<div class="row">
    <% if @foods.length.positive?%>
    <table  class="table">
      <tr class="foods__table-header-row">
        <th>Food</th>
        <th>Quantity</th>
        <th>Unit Price</th>
        <th>Actions</th>
      </tr>
      <tbody>
        <% @foods.each do |food|  %>
          <tr id="<%= dom_id food %>", class="foods__table-body-row">
             <td><%= food.name %></td>
            <td><%= food.inventory_foods.select {|inventory| inventory.food_id == food.id}[0].quantity%> <%= food.measurement%></td>
            <td>$<%= food.price%></td>
            <% if current_user.id == @inventory.user.id%>
            <td>
                <%= button_to "Remove", inventory_inventory_food_path(@inventory.id, food.id), method: :delete ,class: "form-submitt" %>
            </td> 
            <% end %>
          </tr>
        <% end %>
      <tbody>
    </table>
  <% else %>
    <p>No Ingredients to show. Add an ingredient from the button above</p>
  <% end %>
    </div>